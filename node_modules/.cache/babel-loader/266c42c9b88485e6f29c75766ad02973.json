{"ast":null,"code":"import { useCallback } from 'react';\nimport useBombFinance from './useBombFinance';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\nimport { parseUnits } from 'ethers/lib/utils';\n\nconst useStake = bank => {\n  const bombFinance = useBombFinance();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n  const handleStake = useCallback(amount => {\n    const amountBn = parseUnits(amount, bank.depositToken.decimal);\n    handleTransactionReceipt(bombFinance.stake(bank.contract, bank.poolId, amountBn), `Stake ${amount} ${bank.depositTokenName} to ${bank.contract}`);\n  }, [bank, bombFinance, handleTransactionReceipt]);\n  return {\n    onStake: handleStake\n  };\n};\n\nexport default useStake;","map":{"version":3,"sources":["/home/shashwat/Projects/Dyeus/src/hooks/useStake.ts"],"names":["useCallback","useBombFinance","useHandleTransactionReceipt","parseUnits","useStake","bank","bombFinance","handleTransactionReceipt","handleStake","amount","amountBn","depositToken","decimal","stake","contract","poolId","depositTokenName","onStake"],"mappings":"AAAA,SAAQA,WAAR,QAA0B,OAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,OAAOC,2BAAP,MAAwC,+BAAxC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAEA,MAAMC,QAAQ,GAAIC,IAAD,IAAgB;AAC/B,QAAMC,WAAW,GAAGL,cAAc,EAAlC;AACA,QAAMM,wBAAwB,GAAGL,2BAA2B,EAA5D;AAEA,QAAMM,WAAW,GAAGR,WAAW,CAC5BS,MAAD,IAAoB;AAClB,UAAMC,QAAQ,GAAGP,UAAU,CAACM,MAAD,EAASJ,IAAI,CAACM,YAAL,CAAkBC,OAA3B,CAA3B;AACAL,IAAAA,wBAAwB,CACtBD,WAAW,CAACO,KAAZ,CAAkBR,IAAI,CAACS,QAAvB,EAAiCT,IAAI,CAACU,MAAtC,EAA8CL,QAA9C,CADsB,EAErB,SAAQD,MAAO,IAAGJ,IAAI,CAACW,gBAAiB,OAAMX,IAAI,CAACS,QAAS,EAFvC,CAAxB;AAID,GAP4B,EAQ7B,CAACT,IAAD,EAAOC,WAAP,EAAoBC,wBAApB,CAR6B,CAA/B;AAUA,SAAO;AAACU,IAAAA,OAAO,EAAET;AAAV,GAAP;AACD,CAfD;;AAiBA,eAAeJ,QAAf","sourcesContent":["import {useCallback} from 'react';\nimport useBombFinance from './useBombFinance';\nimport {Bank} from '../bomb-finance';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\nimport {parseUnits} from 'ethers/lib/utils';\n\nconst useStake = (bank: Bank) => {\n  const bombFinance = useBombFinance();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleStake = useCallback(\n    (amount: string) => {\n      const amountBn = parseUnits(amount, bank.depositToken.decimal);\n      handleTransactionReceipt(\n        bombFinance.stake(bank.contract, bank.poolId, amountBn),\n        `Stake ${amount} ${bank.depositTokenName} to ${bank.contract}`,\n      );\n    },\n    [bank, bombFinance, handleTransactionReceipt],\n  );\n  return {onStake: handleStake};\n};\n\nexport default useStake;\n"]},"metadata":{},"sourceType":"module"}