{"ast":null,"code":"var _jsxFileName = \"/home/shashwat/Projects/Dyeus/src/views/Supply/components/SupplyBomb.tsx\";\nimport React, { useMemo } from 'react';\nimport styled from 'styled-components';\nimport { Box, Button, Card, CardContent, Typography } from '@material-ui/core'; // import Button from '../../../components/Button';\n// import Card from '../../../components/Card';\n// import CardContent from '../../../components/CardContent';\n\nimport CardIcon from '../../../components/CardIcon';\nimport { AddIcon, RemoveIcon } from '../../../components/icons';\nimport IconButton from '../../../components/IconButton';\nimport Label from '../../../components/Label';\nimport Value from '../../../components/Value'; //import useXbombBalance from '../../../hooks/useXbombBalance';\n\nimport useBombStats from '../../../hooks/useBombStats';\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove'; //import useApproveW, {ApprovalState as ApprovalStateW} from '../../../hooks/useApprove';\n\nimport useModal from '../../../hooks/useModal';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport MetamaskFox from \"../../../assets/img/metamask-fox.svg\";\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport DepositModal from './DepositModal';\nimport WithdrawModal from './WithdrawModal';\nimport useBombFinance from '../../../hooks/useBombFinance'; //import useStakedTokenPriceInDollars from '../../../hooks/useStakedTokenPriceInDollars';   //May not be needed anymore.\n\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport useSupplyToBomb from '../../../hooks/useSupplyToBomb';\nimport useRedeemFromBomb from '../../../hooks/useRedeemFromBomb';\n\nconst SupplyBomb = () => {\n  const bombFinance = useBombFinance();\n  const bombStats = useBombStats();\n  const [approveStatus, approve] = useApprove(bombFinance.BOMB, bombFinance.contracts.BombRouter.address);\n  const [approveStatusW, approveW] = useApprove(bombFinance.BBOMBBOMB, bombFinance.contracts.BombRouter.address);\n  const tokenBalance = useTokenBalance(bombFinance.BOMB); //const stakedBalance = useStakedBomb();\n\n  const stakedBalance = useTokenBalance(bombFinance.BBOMB_BOMB); // const xbombBalance = useXbombBalance();\n  // const xbombRate = Number(xbombBalance) / 1000000000000000000;\n  // const xbombToBombEquivalent = Number(getDisplayBalance(stakedBalance)) * xbombRate;\n\n  const bombPriceInDollars = useMemo(() => bombStats ? Number(bombStats.priceInDollars).toFixed(2) : null, [bombStats]);\n  const stakedTokenPriceInDollars = Number(bombPriceInDollars);\n  const tokenPriceInDollars = useMemo(() => {\n    return stakedTokenPriceInDollars ? (Number(stakedTokenPriceInDollars) * Number(getDisplayBalance(stakedBalance))).toFixed(2).toString() : null;\n  }, [stakedTokenPriceInDollars, stakedBalance]); // const isOldBoardroomMember = boardroomVersion !== 'latest';\n\n  const {\n    onStake\n  } = useSupplyToBomb();\n  const {\n    onWithdraw\n  } = useRedeemFromBomb();\n  const [onPresentDeposit, onDismissDeposit] = useModal( /*#__PURE__*/React.createElement(DepositModal, {\n    max: tokenBalance,\n    onConfirm: value => {\n      onStake(value);\n      onDismissDeposit();\n    },\n    tokenName: 'BOMB',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }));\n  const [onPresentWithdraw, onDismissWithdraw] = useModal( /*#__PURE__*/React.createElement(WithdrawModal, {\n    max: stakedBalance,\n    onConfirm: value => {\n      onWithdraw(value);\n      onDismissWithdraw();\n    },\n    tokenName: 'BOMB',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }));\n  return /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StyledCardContentInner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(StyledCardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Supply BOMB\"), /*#__PURE__*/React.createElement(CardIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TokenSymbol, {\n    symbol: \"BOMB\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: 'shinyButton',\n    onClick: () => {\n      bombFinance.watchAssetInMetamask('BOMB');\n    },\n    style: {\n      position: 'static',\n      top: '10px',\n      right: '10px',\n      border: '1px grey solid',\n      paddingBottom: '5px',\n      marginBottom: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, ' ', /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, \"+\"), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"metamask fox\",\n    style: {\n      width: '20px',\n      filter: 'grayscale(100%)'\n    },\n    src: MetamaskFox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Value, {\n    value: getDisplayBalance(stakedBalance),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    text: 'bBOMB (BOMB)',\n    variant: \"yellow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    text: `≈ $${tokenPriceInDollars}`,\n    variant: \"yellow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(StyledCardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, approveStatus !== ApprovalState.APPROVED ? /*#__PURE__*/React.createElement(Button, {\n    disabled: approveStatus !== ApprovalState.NOT_APPROVED,\n    className: approveStatus === ApprovalState.NOT_APPROVED ? 'shinyButton' : 'shinyButtonDisabled',\n    style: {\n      marginTop: '20px'\n    },\n    onClick: approve,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  }, \"Approve BOMB\") : /*#__PURE__*/React.createElement(React.Fragment, null, approveStatusW !== ApprovalState.APPROVED ? /*#__PURE__*/React.createElement(IconButton, {\n    onClick: approveW,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 23\n    }\n  }, \"A\") : /*#__PURE__*/React.createElement(IconButton, {\n    onClick: onPresentWithdraw,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(RemoveIcon, {\n    color: 'yellow',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(StyledActionSpacer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: onPresentDeposit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    color: 'yellow',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }))))))));\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 28px;\n  width: 100%;\n`;\nconst StyledActionSpacer = styled.div`\n  height: ${props => props.theme.spacing[4]}px;\n  width: ${props => props.theme.spacing[4]}px;\n`;\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\nexport default SupplyBomb;","map":{"version":3,"sources":["/home/shashwat/Projects/Dyeus/src/views/Supply/components/SupplyBomb.tsx"],"names":["React","useMemo","styled","Box","Button","Card","CardContent","Typography","CardIcon","AddIcon","RemoveIcon","IconButton","Label","Value","useBombStats","useApprove","ApprovalState","useModal","useTokenBalance","getDisplayBalance","DepositModal","WithdrawModal","useBombFinance","TokenSymbol","useSupplyToBomb","useRedeemFromBomb","SupplyBomb","bombFinance","bombStats","approveStatus","approve","BOMB","contracts","BombRouter","address","approveStatusW","approveW","BBOMBBOMB","tokenBalance","stakedBalance","BBOMB_BOMB","bombPriceInDollars","Number","priceInDollars","toFixed","stakedTokenPriceInDollars","tokenPriceInDollars","toString","onStake","onWithdraw","onPresentDeposit","onDismissDeposit","value","onPresentWithdraw","onDismissWithdraw","watchAssetInMetamask","position","top","right","border","paddingBottom","marginBottom","width","filter","MetamaskFox","APPROVED","NOT_APPROVED","marginTop","StyledCardHeader","div","StyledCardActions","StyledActionSpacer","props","theme","spacing","StyledCardContentInner"],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react';\nimport styled from 'styled-components';\n\nimport { Box, Button, Card, CardContent, Typography } from '@material-ui/core';\n\n// import Button from '../../../components/Button';\n// import Card from '../../../components/Card';\n// import CardContent from '../../../components/CardContent';\nimport CardIcon from '../../../components/CardIcon';\nimport { AddIcon, RemoveIcon } from '../../../components/icons';\nimport IconButton from '../../../components/IconButton';\nimport Label from '../../../components/Label';\nimport Value from '../../../components/Value';\n//import useXbombBalance from '../../../hooks/useXbombBalance';\nimport useBombStats from '../../../hooks/useBombStats';\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove';\n//import useApproveW, {ApprovalState as ApprovalStateW} from '../../../hooks/useApprove';\nimport useModal from '../../../hooks/useModal';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport MetamaskFox from '../../../assets/img/metamask-fox.svg';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nimport DepositModal from './DepositModal';\nimport WithdrawModal from './WithdrawModal';\nimport useBombFinance from '../../../hooks/useBombFinance';\n//import useStakedTokenPriceInDollars from '../../../hooks/useStakedTokenPriceInDollars';   //May not be needed anymore.\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport useSupplyToBomb from '../../../hooks/useSupplyToBomb';\nimport useRedeemFromBomb from '../../../hooks/useRedeemFromBomb';\n\nconst SupplyBomb: React.FC = () => {\n  const bombFinance = useBombFinance();\n  const bombStats = useBombStats();\n\n  const [approveStatus, approve] = useApprove(bombFinance.BOMB, bombFinance.contracts.BombRouter.address);\n  const [approveStatusW, approveW] = useApprove(bombFinance.BBOMBBOMB, bombFinance.contracts.BombRouter.address);\n\n  const tokenBalance = useTokenBalance(bombFinance.BOMB);\n  //const stakedBalance = useStakedBomb();\n  const stakedBalance = useTokenBalance(bombFinance.BBOMB_BOMB);\n\n  // const xbombBalance = useXbombBalance();\n  // const xbombRate = Number(xbombBalance) / 1000000000000000000;\n  // const xbombToBombEquivalent = Number(getDisplayBalance(stakedBalance)) * xbombRate;\n\n  const bombPriceInDollars = useMemo(\n    () => (bombStats ? Number(bombStats.priceInDollars).toFixed(2) : null),\n    [bombStats],\n  );\n\n  const stakedTokenPriceInDollars = Number(bombPriceInDollars);\n\n  const tokenPriceInDollars = useMemo(\n    () => {\n      return stakedTokenPriceInDollars\n        ? (Number(stakedTokenPriceInDollars) * Number(getDisplayBalance(stakedBalance))).toFixed(2).toString()\n        : null;\n    },\n    [stakedTokenPriceInDollars, stakedBalance],\n  );\n  // const isOldBoardroomMember = boardroomVersion !== 'latest';\n\n  const { onStake } = useSupplyToBomb();\n  const { onWithdraw } = useRedeemFromBomb();\n\n  const [onPresentDeposit, onDismissDeposit] = useModal(\n    <DepositModal\n      max={tokenBalance}\n      onConfirm={(value) => {\n        onStake(value);\n        onDismissDeposit();\n      }}\n      tokenName={'BOMB'}\n    />,\n  );\n\n  const [onPresentWithdraw, onDismissWithdraw] = useModal(\n    <WithdrawModal\n      max={stakedBalance}\n      onConfirm={(value) => {\n        onWithdraw(value);\n        onDismissWithdraw();\n      }}\n      tokenName={'BOMB'}\n    />,\n  );\n\n  return (\n    <Box>\n      <Card>\n        <CardContent>\n          <StyledCardContentInner>\n            <StyledCardHeader>\n              <Typography variant='h5' component='h2'>\n                Supply BOMB\n              </Typography>\n              <CardIcon>\n                <TokenSymbol symbol=\"BOMB\" />\n              </CardIcon>\n\n              <Button\n                className={'shinyButton'}\n                onClick={() => {\n                  bombFinance.watchAssetInMetamask('BOMB');\n                }}\n                style={{\n                  position: 'static',\n                  top: '10px',\n                  right: '10px',\n                  border: '1px grey solid',\n                  paddingBottom: '5px',\n                  marginBottom: '20px',\n                }}\n              >\n                {' '}\n                <b>+</b>&nbsp;&nbsp;\n                <img alt=\"metamask fox\" style={{ width: '20px', filter: 'grayscale(100%)' }} src={MetamaskFox} />\n              </Button>\n              <Value value={getDisplayBalance(stakedBalance)} />\n              <Label text={'bBOMB (BOMB)'} variant=\"yellow\" />\n              <Label text={`≈ $${tokenPriceInDollars}`} variant=\"yellow\" />\n            </StyledCardHeader>\n            <StyledCardActions>\n              {approveStatus !== ApprovalState.APPROVED ? (\n                <Button\n                  disabled={approveStatus !== ApprovalState.NOT_APPROVED}\n                  className={approveStatus === ApprovalState.NOT_APPROVED ? 'shinyButton' : 'shinyButtonDisabled'}\n                  style={{ marginTop: '20px' }}\n                  onClick={approve}\n                >\n                  Approve BOMB\n                </Button>\n              ) : (\n                  <>\n                    {approveStatusW !== ApprovalState.APPROVED ? (\n            \n                      <IconButton onClick={approveW}>\n                        A\n                      </IconButton>\n                    ) : (\n                      <IconButton onClick={onPresentWithdraw}>\n                        <RemoveIcon color={'yellow'} />\n                      </IconButton>\n                        \n                          \n                            )}\n                          \n                  <StyledActionSpacer />\n                  <IconButton onClick={onPresentDeposit}>\n                    <AddIcon color={'yellow'} />\n                  </IconButton>\n                </>\n              )}\n            </StyledCardActions>\n          </StyledCardContentInner>\n        </CardContent>\n      </Card>\n      {/* <Box mt={2} style={{color: '#FFF'}}>\n        {canWithdrawFromBoardroom ? (\n          ''\n        ) : (\n          <Card>\n            <CardContent>\n              <Typography style={{textAlign: 'center'}}>Withdraw possible in</Typography>\n              <ProgressCountdown hideBar={true} base={from} deadline={to} description=\"Withdraw available in\" />\n            </CardContent>\n          </Card>\n        )}\n      </Box> */}\n    </Box>\n  );\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 28px;\n  width: 100%;\n`;\n\nconst StyledActionSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default SupplyBomb;\n"]},"metadata":{},"sourceType":"module"}